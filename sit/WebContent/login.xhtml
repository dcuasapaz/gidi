<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<h:html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jstl/core">

<ui:composition template="/tpl/tpl_login.xhtml">

	<ui:define name="ttl">#{html.ttlPgeLgn}</ui:define>
	<ui:define name="ctt">
		<h:form id="frm-lgn">

			<p:messages id="msg-lgn" closable="true" showIcon="true"
				redisplay="true" showDetail="true" showSummary="true" />

			<h:panelGrid id="png-frm-ctt-dta" columns="1" cellpadding="2"
				cellspacing="2" styleClass="frm-ctt-bdy">

				<p:focus context="png-frm-dta" />

				<h:panelGrid styleClass="episig-wdt-100" columns="1" cellspacing="3"
					cellpadding="3">

					<h:panelGrid id="png-frm-dta" columns="1" cellspacing="3"
						cellpadding="3" styleClass="episig-wdt-100">

						<h:panelGrid columns="1" styleClass="episig-wdt-80"
							cellpadding="3" cellspacing="3">
							<p:inputText id="inp-frm-eml" value="#{scrCtlLgn.prs.SPrsEml}"
								placeholder="#{html.plhEml}" styleClass="frm-inp aln-ctr"
								required="#{scrCtlLgn.rqrCmpPrsEml}"
								disabled="#{scrCtlLgn.dsbCmpPrsEml}"
								rendered="#{scrCtlLgn.vsbCmpPrsEml}"
								requiredMessage=" #{message.dtaPrsPswObl(message.msgEmlRqr)} " />
						</h:panelGrid>
						
						<h:panelGrid columns="1" styleClass="episig-wdt-80"
							cellpadding="3" cellspacing="3">
							<p:password id="inp-frm-pss" value="#{scrCtlLgn.prs.SPrsPsw}"
								placeholder="#{html.plhPss}" styleClass="frm-inp aln-ctr"
								required="#{scrCtlLgn.rqrCmpPrsPss}"
								disabled="#{scrCtlLgn.dsbCmpPrsPss}"
								rendered="#{scrCtlLgn.vsbCmpPrsPss}"
								requiredMessage="#{message.dtaPrsPswObl(message.msgPssRqr)}" />
						</h:panelGrid>

						<h:panelGrid styleClass="episig-wdt-80" columns="1"
							cellpadding="5" cellspacing="5">
							<p:selectOneMenu id="som-frm-rol" styleClass="frm-cmb"
								style="width: 93%;" value="#{scrCtlLgn.IRolId}" autoWidth="true"
								rendered="#{scrCtlLgn.vsbCmpRol}"
								disabled="#{scrCtlLgn.dsbCmpRol}"
								required="#{scrCtlLgn.rqrCmpRol}"
								requiredMessage="#{message.msgErr(message.msgPrfRqr)}"
								filter="true" filterMatchMode="contains" >
								<f:selectItem itemLabel="#{html.SOptScrRol}" itemValue=""
									noSelectionOption="true" />
								<f:selectItems value="#{scrCtlLgn.lstRol}" var="varPrsRol"
									itemValue="#{varPrsRol.IPrsRolId}"
									itemLabel="[#{sitCtlOpt.ent(varPrsRol.IPrjId).SOptAcr}] #{scrCtlOpt.rtrOpt(varPrsRol.IRolId).SOptNme}" />
							</p:selectOneMenu>

							<p:blockUI block="png-frm-ctt-dta" trigger="som-frm-rol">
								<p:graphicImage value="#{html.imgLdn}" styleClass="img-load" />
							</p:blockUI>

						</h:panelGrid>

					</h:panelGrid>

					<h:panelGrid styleClass="episig-wdt-80" columns="1" cellpadding="5"
						cellspacing="5">
						<p:commandButton id="cmb-frm-act-btn" title="#{html.lblBtn}"
							action="#{scrCtlLgn.login()}" value="#{html.lblBtn}"
							styleClass="cmb-frm-lgn" update="@form"
							disabled="#{scrCtlLgn.dsbBtnLgn}"
							rendered="#{scrCtlLgn.vsbBtnLgn}" icon="ui-icon-circle-arrow-e" />

						<p:commandButton id="cmb-frm-rol" title="#{html.lblBtnNxt}"
							action="#{scrCtlLgn.vld()}" value="#{html.lblBtnNxt}"
							styleClass="cmb-frm-lgn" update="@form"
							rendered="#{scrCtlLgn.vsbBtnNxt}"
							disabled="#{scrCtlLgn.dsbBtnNxt}" icon="ui-icon-circle-arrow-e" />

						<p:blockUI block="png-frm-ctt-dta" trigger="cmb-frm-rol">
							<p:graphicImage value="#{html.imgLdn}" styleClass="img-load" />
						</p:blockUI>
						<p:blockUI block="png-frm-ctt-dta" trigger="cmb-frm-act-btn">
							<p:graphicImage value="#{html.imgLdn}" styleClass="img-load" />
						</p:blockUI>
					</h:panelGrid>

				</h:panelGrid>
			</h:panelGrid>
		</h:form>
	</ui:define>
</ui:composition>
</h:html>